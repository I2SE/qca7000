# ====================================================================
#   
#   Copyright (c) 2011 by Qualcomm Atheros.
#   Copyright (c) 2013 by I2SE GmbH
#   
#   Permission to use, copy, modify, and/or distribute this software 
#   for any purpose with or without fee is hereby granted, provided 
#   that the above copyright notice and this permission notice appear 
#   in all copies.
#   
#   THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL 
#   WARRANTIES WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED 
#   WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL  
#   THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT, INDIRECT, OR 
#   CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM 
#   LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, 
#   NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN 
#   CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
#   
# --------------------------------------------------------------------

This package is an SPI driver for the QCA7000 serial-to-powerline 
chip. The QCA7000 is a low-cost, low-power, low-speed chip suited to 
Green PHY, Smart Grid and connected home applications. The SPI driver 
has device tree support.

These are the steps to include QCA7000 support into kernel:

- fetch the kernel (e.g. from the git repository 
  git://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git)
- switch to branch 3.10
- apply the patch "linux-3.10.patch" from the root directory against
  Linux kernel
- copy all C and header files from the directory "qca-spi" into 
  "linux/drivers/net/ethernet"
- call "make menuconfig"
- enable "Qualcomm Atheros QCA7000 support" under 
  Device Driver > Network device support > Ethernet driver support
- save the configuration
- build the kernel with "make"

This is an example device tree configuration for i.MX28 
(ssp2 = SPI Master):

ssp2: ssp@80014000 {
	#address-cells = <1>;
	#size-cells = <0>;
	compatible = "fsl,imx28-spi";
	pinctrl-names = "default";
	pinctrl-0 = <&spi2_pins_a>;
	status = "okay";
	
	qca7000: qca7000@0 {    
		compatible = "qca,qca7000";
		interrupt-parent = <&gpio3>;
		interrupts = <25 0x1>;
		spi-cpha;                         /* SPI mode: CPHA=1 */
		spi-cpol;                         /* SPI mode: CPOL=1 */
		spi-max-frequency = <16000000>;   /* max SPI frequency in Hz */
		intr-gpios = <&gpio3 25 0>;       /* GPIO for SPI Interrupt */
		reg = <0x0>;
	}; 
};
